# URL Shortener (Golang) üöÄ

–ü—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ **Go** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (**Clean Architecture**).

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **–Ø–∑—ã–∫:** Go 1.25.6
- **HTTP –†–æ—É—Ç–µ—Ä:** [chi](https://github.com/go-chi/chi)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä `slog`
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** [go-playground/validator](https://github.com/go-playground/validator)
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
  - Unit-—Ç–µ—Å—Ç—ã: `testify` + `mockery`
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ (E2E) —Ç–µ—Å—Ç—ã: `httpexpect`

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/–≤–∞—à-–ª–æ–≥–∏–Ω/url-shortener.git
cd url-shortener
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∏—â–µ—Ç –∫–æ–Ω—Ñ–∏–≥ –≤ `config/local.yaml`. –í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:

**–î–ª—è Linux/macOS:**

```bash
cp config/local.yaml.example config/local.yaml
```

**–î–ª—è Windows (PowerShell):**

```bash
copy config/local.yaml.example config/local.yaml
```

> **–í–∞–∂–Ω–æ:** –û—Ç–∫—Ä–æ–π—Ç–µ `config/local.yaml` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø–æ—Ä—Ç, –ø—É—Ç—å –∫ –ë–î, –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –¥–ª—è Auth).

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
go run cmd/url-shortener/main.go
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ (Unit –∏ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ):

```bash
go test -v ./...
```

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∫–æ–≤ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ mockery):

```bash
go generate ./...
```

## üîå API Endpoints

|   –ú–µ—Ç–æ–¥    | –ü—É—Ç—å           | –û–ø–∏—Å–∞–Ω–∏–µ                     |    Auth    |
| :--------: | :------------- | :--------------------------- | :--------: |
|  **POST**  | `/url`         | –°–æ–∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É      | –î–∞ (Basic) |
|  **GET**   | `/{alias}`     | –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL |    –ù–µ—Ç     |
| **DELETE** | `/url/{alias}` | –£–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫—É               | –î–∞ (Basic) |

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (POST /url)

```json
{
	"url": "https://google.com",
	"alias": "google-link"
}
```

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ —Å–ª–æ—è–º:

- **cmd/** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
- **internal/config/** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫.
- **internal/http-server/handlers/** ‚Äî –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.
- **internal/storage/** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (Repository).
- **internal/lib/** ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –ª–æ–≥–≥–µ—Ä—ã.
